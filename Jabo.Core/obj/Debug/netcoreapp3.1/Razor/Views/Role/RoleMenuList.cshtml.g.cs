#pragma checksum "D:\git\DotNetCore\Jabo.Core\Views\Role\RoleMenuList.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "919402ab0a0405473ce13ddd4976a666ce222ef3"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Role_RoleMenuList), @"mvc.1.0.view", @"/Views/Role/RoleMenuList.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"919402ab0a0405473ce13ddd4976a666ce222ef3", @"/Views/Role/RoleMenuList.cshtml")]
    public class Views_Role_RoleMenuList : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral(@"<style type=""text/css"">
    .layui-table-click {
        background-color: #1E9FFF !important;
        color: #ffffff !important;
    }
</style>
<div class=""layuimini-container layuimini-page-anim"">
    <div class=""layuimini-main"">
        <div class=""layui-form layuimini-form"" lay-filter=""example"">
            <div class=""layui-row"">
                <div class=""layui-col-xs3"">
                    <div class=""layui-card"">
                        <div class=""layui-card-header"">角色信息</div>
                        <div class=""layui-card-body"">
                            <table class=""layui-hide"" id=""currentTableId"" lay-filter=""currentTableFilter""></table>
                        </div>
                    </div>
                </div>
                <div class=""layui-col-xs9"">
                    <div class=""layui-card"">
                        <div class=""layui-card-header"">
                            菜单信息
                            <div class=""layui-btn-group"" style=""position:absolute;");
            WriteLiteral("left:100px;\">\r\n                                <button class=\"layui-btn layui-btn-sm\"");
            BeginWriteAttribute("lay-submit", " lay-submit=\"", 1109, "\"", 1122, 0);
            EndWriteAttribute();
            WriteLiteral(@" lay-filter=""btnSave""><i class=""layui-icon layui-icon-edit""></i>保存</button>
                            </div>
                        </div>
                        <div class=""layui-card-body"">
                            <div id=""tree"" class=""demo-tree-more""></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    layui.use(['form', 'table', 'element', 'tree'], function () {
        var $ = layui.jquery,
            form = layui.form,
            table = layui.table,
            tree = layui.tree,
            roleCode = '';

        table.render({
            elem: '#currentTableId',
            url: '/Role/GetRoleList',
            page: false,
            cols: [[
                { field: 'roleName', width: '100%', title: '角色名称', align: 'left' }
            ]],
            skin: 'line',
            parseData: function (res) { //将原始数据解析成 table 组件所规定的数据
                return {
  ");
            WriteLiteral(@"                  ""code"": ""0"", //解析接口状态
                    ""data"": JSON.parse(res.DataValue) //解析数据列表
                };
            }
        });

        //监听行单击事件（双击事件为：rowDouble）
        table.on('row(currentTableFilter)', function (obj) {

            roleCode = obj.data.roleCode;

            $.get(""/Home/GetMenuTree"", { roleCode: roleCode }, function (data) {
                tree.render({
                    elem: '#tree',
                    data: data,
                    showCheckbox: true, //是否显示复选框
                    id: 'demoId1',
                    isJump: false
                });
            });

            //标注选中样式
            obj.tr.addClass('layui-table-click').siblings().removeClass('layui-table-click');
        });

        $.get(""/Home/GetMenuTree"", null, function (data) {
            tree.render({
                elem: '#tree',
                data: data,
                showCheckbox: true, //是否显示复选框
                id: 'demoId1',
                isJum");
            WriteLiteral(@"p: false
            });
        });

        form.on('submit(btnSave)', function () {
            if (roleCode === '') {
                layer.msg(""请选择角色"");
                return;
            }

            var checkedData = tree.getChecked('demoId1'); //获取选中节点的数据

            $.post(""/Role/SaveRoleMenu"", { list: checkedData, roleCode: roleCode }, function (json) {
                layer.msg(json.Message, { shift: -1, time: 1000 });
            });
        });

    });</script>
");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
